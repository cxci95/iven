(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3700baa2"],{"63aa":function(e,t,a){},"6f6e":function(e,t,a){"use strict";var r=a("ca74"),s=a.n(r);s.a},"80c1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-layout",[a("img",{staticClass:"logo",attrs:{alt:"logo",src:e.logo}}),a("div",{staticClass:"top"},[a("div",{staticClass:"header"}),a("div",{staticClass:"desc"}),a("div",{staticClass:"login"},[a("a-card",{staticStyle:{width:"450px"},attrs:{hoverable:""}},[a("a-row",[a("a-col",{attrs:{push:9}},[a("a-select",{staticStyle:{width:"90px"},attrs:{size:"small",value:e.lang,options:e.langList},on:{change:function(t){return e.setLang(t)}}})],1)],1),a("a-form",{attrs:{form:e.form},on:{submit:e.onSubmit}},[a("a-tabs",{staticStyle:{padding:"0 2px"},attrs:{size:"large",tabBarStyle:{textAlign:"center"}}},[a("a-tab-pane",{key:"1",attrs:{tab:""+e.$t("ad")}},[a("a-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:e.error,showIcon:""}}),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"user cannot be empty",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: 'user cannot be empty', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"AD User"}},[a("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"}),a("a-select",{staticStyle:{width:"90px"},attrs:{slot:"addonBefore","default-value":"corp"},slot:"addonBefore"},[a("a-select-option",{attrs:{value:"corp"}},[e._v(" @corp ")])],1)],1)],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"password cannot be empty",whitespace:!0}]}],expression:"['password', {rules: [{ required: true, message: 'password cannot be empty', whitespace: true}]}]"}],attrs:{size:"large",placeholder:"Pwd",autocomplete:"autocomplete",type:"password"}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1),a("a-tab-pane",{key:"2",attrs:{tab:""+e.$t("user")}},[a("a-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticStyle:{"margin-bottom":"24px"},attrs:{type:"error",closable:!0,message:e.error,showIcon:""}}),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"user cannot be empty",whitespace:!0}]}],expression:"['name', {rules: [{ required: true, message: 'user cannot be empty', whitespace: true}]}]"}],attrs:{autocomplete:"autocomplete",size:"large",placeholder:"Sys User"}},[a("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"password cannot be empty",whitespace:!0}]}],expression:"['password', {rules: [{ required: true, message: 'password cannot be empty', whitespace: true}]}]"}],attrs:{size:"large",placeholder:"Pwd",autocomplete:"autocomplete",type:"password"}},[a("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1)],1),a("a-form-item",[a("a-button",{staticStyle:{width:"100%"},attrs:{loading:e.logging,size:"large",type:"primary",htmlType:"submit"}},[e._v(" "+e._s(e.$t("submit"))+" ")])],1),a("div",[e._e()],1)],1)],1)],1)])])},s=[],o=a("5530"),i=a("d808"),n=a("7ded"),c=a("2f62"),l={name:"Login",i18n:a("e0bd"),components:{CommonLayout:i["a"]},data:function(){return{logging:!1,logo:a("5d2c"),error:"",langList:[{value:"US",label:"English"},{value:"CN",label:"简体中文"},{value:"HK",label:"繁體中文"}],form:this.$form.createForm(this)}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["c"])("account",["token"])),Object(c["e"])("user",["my"])),Object(c["e"])("setting",["lang"])),{},{systemName:function(){return this.$store.state.setting.systemName}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])("user",["getMy"])),Object(c["d"])("setting",["setLang"])),Object(c["d"])("account",["setToken","setVersion","setUser","setPermissions","setRoles"])),Object(c["b"])("mapping",["getMap"])),Object(c["b"])("user",["getMy"])),{},{onSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFieldsAndScroll((function(e){if(!e){t.logging=!0;var a=t.form.getFieldValue("name"),r=t.form.getFieldValue("password");Object(n["a"])({userCode:a,password:r}).then((function(e){var a=e.code,r=e.msg,s=e.data;t.$nextTick((function(){if(200===a){var e=s.tokenDetail,o=void 0===e?{}:e,i=s.version,n=void 0===i?"":i;t.setVersion(n),t.setToken(o["token"]),t.getMy().then((function(){t.$nextTick((function(){t.getMap().then((function(){t.$nextTick((function(){t.$router.push("/home"),t.logging=!1}))}))}))}))}else t.logging=!1,t.error=r}))})).catch((function(e){t.logging=!1,t.$message.error(t.$t("error500"))}))}}))}}),created:function(){var e=this;this.$nextTick((function(){var t=e.$route.query;t&&"reset"===t.status?e.setToken(void 0):e.token&&e.$router.push("/home")}))}},u=l,m=(a("6f6e"),a("0c7c")),p=Object(m["a"])(u,r,s,!1,null,"633b6e01",null),d=p.exports;t["default"]=d},ca74:function(e,t,a){},d808:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-layout"},[a("div",{staticClass:"content"},[e._t("default")],2),a("page-footer",{attrs:{"link-list":e.footerLinks,copyright:e.copyright}})],1)},s=[],o=a("5530"),i=a("613e"),n=a("2f62"),c={name:"CommonLayout",components:{PageFooter:i["a"]},computed:Object(o["a"])({},Object(n["e"])("setting",["footerLinks","copyright"]))},l=c,u=(a("e7d3"),a("0c7c")),m=Object(u["a"])(l,r,s,!1,null,"7dbf5c1a",null);t["a"]=m.exports},e0bd:function(e,t){e.exports={messages:{CN:{submit:"登录",logon:"注册",ad:"域用户",user:"系统用户",error500:"请求失败，请联系管理员。"},HK:{submit:"登錄",logon:"注冊",ad:"域用戶",user:"系統用戶",error500:"請求失敗，請聯係管理員。"},US:{submit:"Sign in",logon:"Logon",ad:"Active Directory",user:"System User",error500:"Request failed, Please advise the admin."}}}},e7d3:function(e,t,a){"use strict";var r=a("63aa"),s=a.n(r);s.a}}]);