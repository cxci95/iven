(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aa5f899"],{"1f9d":function(e,a){e.exports={messages:{CN:{inputKeywordsPlaceholder:"关键字[项目名]",search:"查询",create:"新建",sort:"序号",name:"项目",completionRate:"完成率",manager:"经理",plannedStart:"计划开始",plannedFinish:"计划完成",priority:"优先级",createDate:"创建时间",updateDate:"更新时间",updateBy:"更新者",action:"操作",edit:"编辑",clone:"克隆",team:"成员",cancel:"取消",back:"返回",submit:"提交",empty:"无",inputNamePlaceholder:"请输入项目名",personnel:"人员",notFoundContent:"暂无数据",task:"任务"},HK:{inputKeywordsPlaceholder:"关键字[项目名]",search:"查询",create:"新建",sort:"序号",name:"项目",completionRate:"完成率",manager:"经理",plannedStart:"计划开始",plannedFinish:"计划完成",priority:"优先级",createDate:"创建时间",updateDate:"更新时间",updateBy:"更新者",action:"操作",edit:"编辑",clone:"克隆",team:"成员",cancel:"取消",back:"返回",submit:"提交",empty:"无",inputNamePlaceholder:"请输入项目名",personnel:"人员",notFoundContent:"暂无数据",task:"任务"},US:{inputKeywordsPlaceholder:"Keywords[project name]",search:"Search",create:"Add",sort:"Sort",name:"Name",completionRate:"Completion\nRate",manager:"Manager",plannedStart:"Planned Start",plannedFinish:"Planned Finish",priority:"Priority",createDate:"Create date",updateDate:"Changed date",updateBy:"Changed by",action:"Operation",edit:"Edit",clone:"Clone",team:"Team",cancel:"Cancel",back:"Back",submit:"Submit",empty:"Empty",inputNamePlaceholder:"Please input the name",personnel:"Personnel",notFoundContent:"Empty",task:"Task"}}}},7263:function(e,a,t){"use strict";var n=t("943b"),r=t.n(n);r.a},"7a9d":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=this,t=a.$createElement,n=a._self._c||t;return n("div",[n("a-card",[n("a-form",{attrs:{form:a.form,"label-col":a.labelCol,"wrapper-col":a.wrapperCol},on:{submit:a.handleSubmit}},[n("a-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[n("a-input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"decorator",rawName:"v-decorator",value:["avatarFileId",{rules:[]}],expression:"['avatarFileId',{\n            rules: []\n          }]"}]})],1),n("a-row",[n("a-col",{attrs:{span:8}},[n("a-upload",{staticClass:"avatar-uploader",attrs:{action:"",accept:"image/png, image/jpeg",name:"avatar","list-type":"picture-card",customRequest:a.handleCustomRequest,"show-upload-list":!1}},[a.form.getFieldValue("avatarFileId")?n("img",{attrs:{width:"128px",height:"128px",src:this.$downloadPath(a.form.getFieldValue("avatarFileId")),alt:"avatar"}}):n("div",[n("a-icon",{attrs:{type:a.loading?"loading":"plus"}}),n("div",{staticClass:"ant-upload-text"},[a._v(" Upload ")])],1)])],1)],1),n("a-row",[n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:a.$t("firstName"),labelCol:{span:8},wrapperCol:{span:14,offset:0}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["firstName",{rules:[{required:!0,message:"Please input the firstName!"}]}],expression:"['firstName',{\n                rules: [{ required: true, message: 'Please input the firstName!' }]\n              }]"}],attrs:{placeholder:a.$t("firstName")}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:a.$t("lastName"),labelCol:{span:8},wrapperCol:{span:14,offset:0}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lastName",{rules:[{required:!0,message:"Please input the lastName!"}]}],expression:"['lastName',{\n                rules: [{ required: true, message: 'Please input the lastName!' }]\n              }]"}],attrs:{placeholder:a.$t("lastName")}})],1)],1),n("a-col",{attrs:{span:6}},[n("a-form-item",{attrs:{label:a.$t("email"),labelCol:{span:6},wrapperCol:{span:16,offset:0}}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"Please input the email!"}]}],expression:"['email',{\n                rules: [{ required: true, message: 'Please input the email!' }]\n              }]"}],attrs:{placeholder:a.$t("email")}})],1)],1)],1),n("a-row",[n("a-button-group",[n("a-button",{attrs:{type:"primary",loading:a.loading},on:{click:a.handleSubmit}},[a._v(" "+a._s(a.$t("submit"))+" ")]),n("a-button",{attrs:{loading:a.loading},on:{click:function(){return e.$closePageAndBack()}}},[a._v(" "+a._s(a.$t("back"))+" ")])],1)],1)],1)],1)],1)},r=[],i=(t("d3b7"),t("96cf"),t("1da1")),s=t("5530"),o=t("2f62"),l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("span",[e._v("1")])},c=[],u=t("3f5e"),d={name:"IImg",data:function(){return{show:!1}},props:{value:{type:String,required:!0},alt:{type:String,required:!1,default:""}},computed:Object(s["a"])({},Object(o["e"])("account",["token"])),methods:{initSrc:function(){var e=this.value;if(e){this.$refs.img;Object(u["a"])(e).then((function(e){var a=new FileReader;a.readAsDataURL(new Blob([e])),a.onload=function(e){var a=document.createElement("a");a.download="t.png",a.href=e.target.result,document.body.appendChild(a),a.click(),document.body.removeChild(a)}})),this.show=!0}}},mounted:function(){this.initSrc()}},m=d,p=t("0c7c"),f=Object(p["a"])(m,l,c,!1,null,"24afbb60",null),h=f.exports,b={name:"UserSetting",components:{IImg:h},i18n:t("1f9d"),data:function(){return{form:this.$form.createForm(this),labelCol:{span:8,offset:0},wrapperCol:{span:14,offset:0},imageId:""}},computed:Object(s["a"])({},Object(o["e"])("user",["loading","my"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(o["d"])("user",["setLoading"])),Object(o["b"])("user",["getMy","updateMy"])),Object(o["b"])("file",["uploadFile"])),{},{handleCustomRequest:function(e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.setLoading(!0),n=new FormData,r=e.file,n.append("file",r),a.uploadFile(n).then((function(e){var t=e.id;a.$nextTick((function(){a.form.setFieldsValue({avatarFileId:t}),a.imageId=t}))})).catch((function(e){})).finally((function(){a.setLoading(!1)}));case 5:case"end":return t.stop()}}),t)})))()},handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFieldsAndScroll((function(e,t){e||a.updateMy(t).then((function(){a.getMy(),a.$message.success("success"),a.$closePageAndBack()}))}))}}),created:function(){var e=this;this.getMy().then((function(){e.$nextTick((function(){e.form.setFieldsValue({avatarFileId:e.my["avatarFileId"],email:e.my["email"],firstName:e.my["firstName"],lastName:e.my["lastName"]})}))}))}},v=b,g=(t("7263"),Object(p["a"])(v,n,r,!1,null,null,null)),w=g.exports;a["default"]=w},"943b":function(e,a,t){}}]);